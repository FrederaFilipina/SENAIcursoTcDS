CREATE DATABASE banco_senai;
USE banco_senai;

CREATE TABLE categoria_cliente (
id_categoria_cliente INT NOT NULL PRIMARY KEY,
nome_categoria_cliente VARCHAR(100)
);

CREATE TABLE cliente (
id_cliente INT NOT NULL PRIMARY KEY,
nome_cliente VARCHAR(100),
num_cpf INT(11),
num_cnpj INT(14),
num_celular BIGINT,
des_endereco_rua VARCHAR(100),
des_endereco_numero INT(10),
des_endereco_bairro VARCHAR(100),
des_endereco_cep INT(11),
des_endereco_cidade VARCHAR(100),
des_endereco_estado VARCHAR(100),
categoria_cliente_id INT,
FOREIGN KEY (categoria_cliente_id)
REFERENCES categoria_cliente (id_categoria_cliente)
);

CREATE TABLE tipo_conta (
id_tipo_conta INT NOT NULL PRIMARY KEY,
des_tipo_conta VARCHAR(100)
);

CREATE TABLE agencia (
id_agencia INT NOT NULL PRIMARY KEY,
nome_agencia VARCHAR(100)
);

CREATE TABLE conta(
id_conta INT NOT NULL PRIMARY KEY,
val_saldo DECIMAL(10,2),
agencia_id INT,
FOREIGN KEY (agencia_id)
REFERENCES agencia (id_agencia),

cliente_id INT,
FOREIGN KEY (cliente_id)
REFERENCES cliente (id_cliente),

tipo_conta_id INT,
FOREIGN KEY (tipo_conta_id)
REFERENCES tipo_conta (id_tipo_conta)
);

ALTER TABLE cliente
RENAME COLUMN num_celular TO telefone;

ALTER TABLE categoria_cliente
ADD COLUMN observacao TEXT;

ALTER TABLE cliente
ADD COLUMN renda DECIMAL(10,2);

ALTER TABLE tipo_conta
MODIFY COLUMN des_tipo_conta TEXT;
 
ALTER TABLE agencia
MODIFY COLUMN nome_agencia VARCHAR(45);

ALTER TABLE cliente
DROP COLUMN des_endereco_estado;

ALTER TABLE categoria_cliente
RENAME TO categoria;

ALTER TABLE tipo_conta
ADD COLUMN observacao TEXT;